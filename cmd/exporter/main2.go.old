package main

import (
	"log"

	"github.com/buildpack/packs/img"
	"github.com/davecgh/go-spew/spew"
)

func main2() {
	log.Println("Get Store")
	store, err := img.NewDaemon("myorg/xvlbzgba")
	if err != nil {
		log.Fatal(err)
	}
	log.Println("Get Image")
	image, err := store.Image()
	if err != nil {
		log.Fatal(err)
	}
	log.Println("Get Layers")
	layers, err := image.Layers()
	if err != nil {
		log.Fatal(err)
	}
	log.Println("Loop Layers")
	for idx, layer := range layers {
		diffid, err := layer.DiffID()
		log.Println("IDX:", idx, "DiffID:", diffid, err)
	}

	config, err := image.ConfigFile()
	if err != nil {
		log.Fatal(err)
	}
	spew.Dump(config)
	// spew.Dump(config.Config.Labels)
	// spew.Dump(config.ContainerConfig.Labels)

	// image.LayerByDiffID(Hash) (Layer, error)
}
